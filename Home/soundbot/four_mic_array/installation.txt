Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2020-11-04T04:24:10-05:00

====== installation ======
Created Wednesday 04 November 2020

[b08x@piratebot seeed-voicecard]$ sudo ./install.sh --keep-kernel
[sudo] password for b08x: 
./install.sh: line 65: dpkg: command not found
./install.sh: line 166: dpkg: command not found

### Keep current system kernel not to change

### Uninstall previous dkms module

--------------------
Deleting module version: 0.3
completely from the DKMS tree.
--------------------
Done.
:: Synchronizing package databases...
 core is up to date
 extra is up to date
 community is up to date
warning: git-2.29.1-1 is up to date -- skipping
warning: gcc-10.2.0-1 is up to date -- skipping
warning: make-4.3-3 is up to date -- skipping
warning: dkms-2.8.3-1 is up to date -- skipping
error: target not found: linux-raspberrypi-headers
grep: /boot/kernel.img: No such file or directory

gzip: stdin: unexpected end of file

### Install sound card driver

Creating symlink /var/lib/dkms/seeed-voicecard/0.3/source ->
				 /usr/src/seeed-voicecard-0.3

DKMS: add completed.

Kernel preparation unnecessary for this kernel.  Skipping...

Building module:
cleaning build area...
make -j4 KERNELRELEASE=5.4.72-1-MANJARO-ARM -C /usr/lib/modules/5.4.72-1-MANJARO-ARM/build M=/var/lib/dkms/seeed-voicecard/0.3/build.....
cleaning build area...
Kernel cleanup unnecessary for this kernel.  Skipping...

DKMS: build completed.

snd-soc-wm8960.ko:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /usr/lib/modules/5.4.72-1-MANJARO-ARM/kernel/sound/soc/codecs/

snd-soc-ac108.ko:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /usr/lib/modules/5.4.72-1-MANJARO-ARM/kernel/sound/soc/codecs/

snd-soc-seeed-voicecard.ko:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /usr/lib/modules/5.4.72-1-MANJARO-ARM/kernel/sound/soc/bcm/

depmod....

DKMS: install completed.

### Install device tree overlays
'seeed-2mic-voicecard.dtbo' -> '/boot/overlays/seeed-2mic-voicecard.dtbo'
'seeed-4mic-voicecard.dtbo' -> '/boot/overlays/seeed-4mic-voicecard.dtbo'
'seeed-8mic-voicecard.dtbo' -> '/boot/overlays/seeed-8mic-voicecard.dtbo'

### Codec driver loading at startup (in /etc/modules)
grep: /etc/modules: No such file or directory

### Found boot configuration file /boot/config.txt

### Install alsa and widget configuration
'asound_2mic.conf' -> '/etc/voicecard/asound_2mic.conf'
'asound_4mic.conf' -> '/etc/voicecard/asound_4mic.conf'
'asound_6mic.conf' -> '/etc/voicecard/asound_6mic.conf'
'dkms.conf' -> '/etc/voicecard/dkms.conf'
'ac108_6mic.state' -> '/etc/voicecard/ac108_6mic.state'
'ac108_asound.state' -> '/etc/voicecard/ac108_asound.state'
'wm8960_asound.state' -> '/etc/voicecard/wm8960_asound.state'

### Manage alsa configuration by git
setup git config
git init
Initialized empty Git repository in /etc/voicecard/.git/
git add --all
git commit -m "origin configures"
[master (root-commit) 340b1e3] origin configures
 7 files changed, 1446 insertions(+)
 create mode 100644 ac108_6mic.state
 create mode 100644 ac108_asound.state
 create mode 100644 asound_2mic.conf
 create mode 100644 asound_4mic.conf
 create mode 100644 asound_6mic.conf
 create mode 100644 dkms.conf
 create mode 100644 wm8960_asound.state

### Start service seeed-voicecard
	see /var/log/seeed-voicecard.log for more service information
Created symlink /etc/systemd/system/sysinit.target.wants/seeed-voicecard.service â†’ /usr/lib/systemd/system/seeed-voicecard.service.
--------------------
Please reboot your device to apply all settings
Enjoy!
--------------------
